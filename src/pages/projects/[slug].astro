---
import BaseLayout from "../../layouts/BaseLayout.astro";
import ProjectPreview from "../../components/ProjectPreview.astro";
import "../../style/global.css";
import "../../style/blog.css";
// import BaseLayout from "../../layouts/BaseLayout.astro";
// import Header from "../../components/Header.astro";
import { getSlugFromPath } from "../../utils/get-slug-from-path";
// import { parseISO, format } from "date-fns";
export async function getStaticPaths({ paginate, rss }) {
  const allPosts = await Astro.glob("../../content/projects/*.md");

  const paths = allPosts.map((post) => {
    const slug = getSlugFromPath(post.file);
    return {
      params: {
        slug,
      },
      props: { post },
    };
  });

  return paths;
}
const post = Astro.props.post;
---

<BaseLayout title={post.frontmatter.title}>
  <ProjectPreview post={post} onpage={true} />
  <post.Content />
</BaseLayout>
